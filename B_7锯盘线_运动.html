<!DOCTYPE html>
<html>
<head>
<title>[极坐标系列]曲线生成算法</title>
</head>

<body  onload="run()"><center>
<canvas id="myCanvas" width="1600" height="800" style="border:4px solid #ff00ff;">
</canvas>
</body>
</center>
<script>
var c=document.getElementById("myCanvas");
var context=c.getContext("2d");
	context.lineWidth=2;
	context.strokeStyle="#880088";
	var d2r=180/3.14159265;

    var t=0.001;//动画参数
	var PI=3.14162;
	
//动态绘制函数:	
function run(){
		context.clearRect(0,0,1600,800);
	    //用纯色背景:
		context.fillStyle ="#FFFFFF";
		context.fillRect(0, 0, 1600, 800);
        context.fill();	

		context.beginPath();
		for(var q=0;q<=360;q+=1){
			var R=300+3*(q % 18-9);           
			var xc=800+R*Math.cos(t+q/d2r);
			var yc=400+R*Math.sin(t+q/d2r);
			if(q==0) {
				context.moveTo(xc,yc);
			} 
			context.lineTo(xc,yc);
		}
		context.stroke();
	    context.closePath();
	
		t+=0.003;		
		setTimeout("run()",5);	
}	
</script>
</html>